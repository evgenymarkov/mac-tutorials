# Установка софта

[Назад](../README.md)

В macOS есть следующие способы установить софт с GUI:

- Из AppStore
- С помощью HomeBrew
- Скачать `.dmg` и перетащить в директорию Applications
- Скачать `.dmg` или архив, запустить установщик

Первые 3 способа адекватные и позволяют держать систему в чистоте.
Многие программы установленные просто перетаскиванием в директорию Applications имеют
встроенные способы самостоятельно обновляться, но всё таки лучше пользоваться AppStore и HomeBrew.
Есть небольшое количество софта, который распространяется только
с помощью установщиков и лучше его обходить стороной.

Адекватные способы установить консольные программы:

- HomeBrew

Выбор очевиден.

Установим и настроим необходимый минимум нужный для простого пользования и разработки.

Откроем приложение Terminal. Начнём с утилит командной строки.

## git

Установим git:

```bash
brew install git
```

Создадим файл `.gitconfig` в домашней директории:

```bash
nano ~/.gitconfig
```

И запишем в него следующее:

```ini
[core]
    editor = nano
    excludesfile = ~/.gitignore

[user]
    name = anonymous
    email = anonymous@yandex.ru

[log]
  date = relative

[alias]
    tree = log --decorate --graph --format='format:%h %Cblue%ad%Creset %ae %Cgreen%s%Creset'
```

Что мы сделали:

1. Выставили `nano` в качестве редактора коммитов
2. Указали файл в котором опишем, что git должен игнорировать и не коммитить никогда
3. Выставили имя пользователя и почту того кто будет автором коммитов
4. Попросили выводить даты в логах в относительном виде (Например, "10 дней назад")
5. Добавили команду `git tree`, которая является сокращением к красивому выводу логов

Осталось только заполнить содержимое глобального `.gitignore`. Для этого создадим и откроем файл:

```bash
nano ~/.gitignore
```

Добавим содержимое:

```
# OS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# IDE
.idea/
.vscode/
```

Эти файлы больше никогда случайно не попадут в репозиторий.

## SSH

SSH — сетевой протокол. Используется для удалённого управления операционными системами и передачи файлов.
Также SSH используется git'ом как протокол обмена данными. Ключевая особенность заключается в том, что SSH шифрует трафик, делая подключения безопасными. По умолчанию, использует 22-й порт. Аббревиатура расшифровывается как Secure SHell. SSH клиент уже установлен на macOS.

Подключиться к удалённой машинке можно с помощью следующей команды:

```bash
ssh username@host
```

Где `username` — имя пользователя, который есть на машинке, а `host` — IP адрес или доменное имя. Пример:

```bash
ssh anonymous@ef3a6j2l8ubnv1172s5j.cloud.yandex.ru
```

Наиболее популярные способы авторизации по SSH — с помощью логина и пароля, с помощью ключа.
Наиболее безопасно и комфортно пользоваться авторизацией с помощью ключей.

Для начала нужно сгенерировать пару состоящую из публичного и приватного ключа:

```bash
ssh-keygen -P '' -C 'username@yandex-team.ru' -t rsa -f ~/.ssh/id_rsa
```

Параметр `-P` со значением `''` говорит об отсутствии пароля на ключ<br>
Параметр `-C` задаёт комментарий к ключу<br>
Параметр `-t` со значением `rsa` устанавливает алгоритм шифрования используемый при генерации ключа<br>
Параметр `-f` задаёт путь по которому будет создан приватный ключ (и рядом с ним публичный)<br>

Команда сгенерирует 2 ключа: `~/.ssh/id_rsa` (приватный) и `~/.ssh/id_rsa.pub` (публичный).<br>
Копировать куда-либо со своей машинки можно и нужно только публичный.

Когда публичный ключ добавлен на удалённую машинку и SSH сервер на ней подхватил его, то
можно выполнить вход.<br>
Если публичный ключ добавлен в аккаунт на GitHub или BitBucket, то git автоматически авторизуется
на удалённых репозиториях, которые были добавлены в remote или склонированы с URL вида
git@github.com:username/repository-name.git.

## Python

Для того чтобы установить последнюю версию Python достаточно следующей команды:

```bash
brew install python
```

Pip установится вместе с ним. Для того чтобы заработало автодополнение можно установить
следующий пакет:

```bash
brew install pip-completion
```

## NodeJS

В HomeBrew есть все версии NodeJS. Последняя публикуется в пакете `node`, предыдущие стабильные версии —
`node@10`, `node@8`, `node@6` и т.д. Лучше использовать последнюю стабильную, но держать при себе
и самую последнюю версию чтобы проводить эксперименты. Установим их:

```bash
brew install node node@10
```

Проверим версию NodeJS:

```bash
node --version
```

Должна вывестись последняя (Примерно 12.6.0).

Чтобы сказать, что мы хотим использовать не последнюю версию NodeJS надо задать переменные
окружения. Сделаем это в файле `~/.bash_profile`. Добавим в конец следующие строки:

```bash
export PATH="/usr/local/opt/node@10/bin:$PATH"
export LDFLAGS="-L/usr/local/opt/node@10/lib"
export CPPFLAGS="-I/usr/local/opt/node@10/include"
```

Удаляя эти 3 переменные окружения или меняя их значения можно контроллировать текущую версию NodeJS.
Чтобы убедиться, что нужная версия выставлена, нужно перезайти в терминал и вызвать `node --version`.

## Другие консольные утилиты

```bash
brew install nmap # Сканер сети
brew install wget # Утилита для скачивания файлов и не только
brew install tree # Утилита просмотра дерева каталогов (красивый рекурсивный ls)
brew install imagemagick # Утилита для обработки изображений
brew install ffmpeg # Утилита для обработки видео
brew install sox # Утилита для обработки аудио
```

## Лучший архиватор

Это кек! Лучший архиватор для macOS называется Keka.

Установить можно так:

```bash
brew cask install keka
```

После установки найди кеку в списке приложений, при первом запуске она предложить стать архиватором
по умолчанию. Предлагаю согласиться, лучше предложения не найти :)

## Торрент клиент

Transmission хорош

```bash
brew cask install transmission
```

## Плеер видео

VLC может воспроизвести что угодно

```bash
brew cask install vlc
```

## Chrome

```bash
brew cask install google-chrome
```

## Figma

```bash
brew cask install figma
```

## Visual Studio Code

```bash
brew cask install visual-studio-code
```

После установки:

- Зайдём в VSCode
- Нажмём `Shift + Cmd + P`
- Введём `user settings`
- Откроется окно настроек, нажмём на фигурные скобки в правом верхнем углу
- Откроются настройки в текстовом виде

Для начала можно сделать такой простенький конфиг, он будет чуть приятнее чем стандартные настройки:

```json
{
  "telemetry.enableTelemetry": false,
  "telemetry.enableCrashReporter": false,
  "extensions.ignoreRecommendations": true,
  "window.zoomLevel": 1,
  "editor.fontSize": 13,
  "editor.rulers": [100],
  "explorer.confirmDelete": false,
  "terminal.integrated.fontSize": 13
}
```

Что происходит:

- Отключается телеметрия и отправка отчётов
- Отключаются рекомендации по плагинам, они бывают навязчивы
- Выставляется комфортный zoomLevel, не слишком маленький и не слишком большой
- Выставляется размер шрифта 13 в терминале и в окне с кодом
- После сотой колонки текста появляется ограничительная черта

## Обновление

Периодически рекомендуется вызывать следующие команды:

```bash
brew upgrade
brew cask upgrade
brew cleanup
```

Это позволит поддерживать актуальные версии программ

[Назад](../README.md)
